(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function a(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(n){if(n.ep)return;n.ep=!0;const o=a(n);fetch(n.href,o)}})();const f=1e3,ee=(e="")=>e.replace(/[_]/g," ").replace(/\s+/g," ").replace(/[^A-Za-z'\-\s]/g,"").trim(),pe=new Set(["of","the","and","to","for","a","an","in","on","at","by"]),u=(...e)=>{const t=new Set;return e.flat().forEach(a=>{const r=ee(a);r&&r.split(" ").map(n=>n.trim()).filter(Boolean).forEach(n=>{pe.has(n.toLowerCase())||t.add(n)})}),Array.from(t)},he=e=>{for(let t=e.length-1;t>0;t-=1){const a=Math.floor(Math.random()*(t+1));[e[t],e[a]]=[e[a],e[t]]}},R=({prefixes:e,suffixes:t,limit:a,joiner:r=""})=>{const n=[],o=new Set;for(const l of e)for(const m of t){const d=[l,m].filter(Boolean).join(r).replace(/\s+/g," ").trim();!d||o.has(d)||(o.add(d),n.push(d))}return he(n),Object.freeze(n.slice(0,a))},fe=(e,t)=>{if(!e)return[];const a=t.map(n=>ee(n)).filter(Boolean),r=[];for(let n=0;r.length<e;n+=1)r.push(a[n%a.length]);return r},ye=["Aria","Anthem","Ballad","Cadence","Carol","Chant","Choir","Chord","Chorus","Coda","Duet","Elegy","Encore","Fanfare","Finale","Folk","Fugue","Gospel","Harmony","Hymn","Lyric","Melody","Meter","Motif","Opera","Psalm","Pulse","Rhythm","Riff","Rondo","Samba","Song","Tempo","Verse","Waltz","Purple Rain","Bohemian","Rhapsody","Hotel","California","Wonder","Wall","Bad","Romance","Teenage","Dream","Rocket","Man","Starman","Halo","Uptown","Funk","Blinding","Lights","Midnight","City","Levitate","Legends","Everlong","Yellow","Blackbird","Gold Dust","Desperado","Avalon","Dancing","Queen","Electric","Feel","Freebird","Superstition","Backstreets","Blue Bayou","Crimson Clover","Silver Springs","Tangled Up","Sugar","Firework","Grenade","Kingslayer","Northern Lights","Thunder Road","Green River","Copperhead","Neon Moon","Seven Nation","Paper Planes","Savage Love","Ocean Eyes","River","Broadway","Nightrain","Sugar Magnolia","Blue Monday","Crimson Tide","Roundabout","Starship Trooper","Fragile","Close to the Edge","Siberian Khatru","Awaken","Tempus Fugit","Owner of a Lonely Heart","Heart of the Sunrise","Machine Messiah","Yours Is No Disgrace","Genesis","DANCE","DVNO","Stress","Waters of Nazareth","Phantom Part","Civilization","Planisphere","Audio Video Disco","Safe and Sound","Love SOS","Alakazam","Starless","Epitaph","Discipline","Larks Tongues","Fallen Angel","Court of the Crimson King","In the Court","Three of a Perfect Pair","Frame by Frame","Sailors Tale","Red"],Se=["Ascot","Aintree","Arlington","Belmont","Churchill","Saratoga","Pimlico","Preakness","Derby","Oaks","Classic","Crown","Triple","Bluegrass","Bourbon","Verdant","Verdict","Gallant","Gallop","Stride","Breeze","Bridle","Silks","Turf","Stakes","Reign","Majesty","Noble","Empire","Gentry","Banner","Fleet","Swift","Honor","Valor","Victory","Champion","Dynasty","Heritage","Herald","Legacy","Legend","Royal","Regal","Summer","Autumn","Winter","Spring","Evening","Morning","Sunrise","Sunset","Twilight","Harvest","Prairie","River","Mountain","Praetor","Saddle","Gait","Draft","Pioneer","Frontier","Steel","Copper","Iron","Bronze","Marble","Granite","Opal","Topline","Foxtrot","Gala","Parade","Pageant","Rally","Tempest","Tailwind","Skylark","Zephyr","Wildfire","Highbank","Fieldstone","Nightwatch","Starboard","Briarstone","Foxhall"],Ce=["Sakura","Akira","Asuka","Rei","Shinji","Misato","Kamui","Sango","Kagome","Inuyasha","Sesshomaru","Usagi","Serenity","Chibi","Mamoru","Haruka","Michiru","Ghibli","Totoro","Chihiro","Haku","Sophie","Howl","Calcifer","Kiki","Jiji","Ponyo","Nausicaa","Ashitaka","San","Mononoke","Spirited","Laputa","Porco","Vash","Stampede","Trigun","Alucard","Integra","Winry","Edward","Alphonse","Mustang","Saber","Shiro","Kirito","Asuna","Sinon","Eren","Mikasa","Armin","Levi","Historia","Annie","Gon","Killua","Hisoka","Yor","Anya","Loid","Spike","Faye","Jet","Nami","Robin","Chopper","Ace","Gojo","Megumi","Yuji","Nobara","Sukuna","Tanjiro","Nezuko","Zenitsu","Inosuke","Rengoku","Akatsuki","Itachi","Kakashi","Naruto","Sasuke","Tetsuo","Kaneda"],ve=["Quantum","Photon","Boson","Lepton","Neutrino","Graviton","Quasar","Nebula","Pulsar","Singularity","Entropy","Catalyst","Vector","Scalar","Tensor","Plasma","Ion","Isotope","Spectra","Circuit","Algorithm","Neuron","Synapse","Genome","Helix","Chromosome","Fusion","Fission","Reactant","Catalysis","Photonics","Laser","Solvent","Quantized","Quantum Field","Event Horizon","Gravity Well","Collider","Nanite","Orbit","Aperture","Flux","Qubit"],te=["Excalibur","Grail","Mjolnir","Gungnir","Trident","Aegis","Durandal","Brisingamen","Golden Fleece","Caduceus","Cornucopia","Ambrosia","Thunderbolt","Gleipnir","Stormbringer","Palantir","Oracle Stone","Runeblade","Vorpal Edge","Dragonlance"],be=["Axiom","Bastion","Beacon","Bravado","Cavalier","Centurion","Concord","Coronet","Dominion","Emissary","Envoy","Granary","Harbinger","Highcliffe","Juniper","Keystone","Kiln","Luminous","Mariner","Northbound","Obsidian","Paladin","Quattro","Reliant","Resolute","Sentinel","Seraph","Steadfast","Stonework","Sunlit","Thunderhead","Trilogy","Union","Vanguard","Viceroy","Wayfarer","Wildcard","Windborne","Zeppelin"],Be=["","Bay","Bend","Blaze","Bloom","Bough","Brook","Charm","Crest","Crown","Dale","Dawn","Dell","Down","Edge","Elm","Ember","Field","Foal","Forge","Gait","Glen","Glow","Grove","Hearth","Herd","Hill","Home","Knoll","Lace","Lane","Line","Link","Mark","Mead","Moor","Peak","Pier","Pine","Pledge","Range","Ridge","Ring","Roan","Roost","Run","Sage","Star","Stone","Vale","Wing","Heights","Harbor","Harrier","Horizon","Lariat","Loam","Mesa","Moraine","Praxis","Salt","Sand","Sloop","Spur","Summit","Tide","Timber","Trace","Turn","Wash","Yard","Yoke"],ke=["Bolt","Charge","Dash","Drive","Flight","Stride","Finish","Gate","Ribbon","Banner","Saddle","Rider","Trainer","Clock","Marker","Beacon","Gunnar","Spiral","Vector","Signal","Lantern","Derby","Paddock","Past","Press","Rune","Standard","Strider","Storm","Thorough","Trace","Track","Turn","Voyage","Whistle","Winner","Work","Yarn"],Te=["Amber","Ash","Bay","Birch","Blue","Brass","Briar","Bronze","Cedar","Chalk","Clay","Clover","Cloud","Copper","Coral","Cotton","Crest","Crow","Dawn","Dove","Dust","Ebony","Elm","Ember","Fawn","Fern","Field","Flint","Frost","Gale","Glen","Gold","Grain","Green","Grove","Harbor","Hawk","Hazel","Hearth","Hollow","Iron","Ivory","Jade","Juniper","Lake","Laurel","Lichen","Maple","Mesa","Mist","Moss","Oak","Olive","Opal","Pearl","Pine","Plum","Quartz","Raven","Reed","River","Roan","Rose","Ruby","Sable","Sage","Sand","Shade","Shore","Silver","Snow","Spruce","Star","Stone","Storm","Summer","Sunny","Thorn","Thyme","Umber","Vale","Velvet","Vine","Willow","Wind","Winter","Barley","Biscuit","Blossom","Canter","Caraway","Chestnut","Citron","Flax","Harvest","Henna","Heron","Indigo","Lupine","Mahogany","Marigold","Mulberry","Nightjar","Sequoia","Sorrel","Tarragon","Topaz","Umbria","Verdant","Walnut","Wisteria","Yarrow"],Me=["Hydrogen","Helium","Lithium","Beryllium","Boron","Carbon","Nitrogen","Oxygen","Fluorine","Neon","Sodium","Magnesium","Aluminum","Silicon","Phosphorus","Sulfur","Chlorine","Argon","Potassium","Calcium","Scandium","Titanium","Vanadium","Chromium","Manganese","Iron","Cobalt","Nickel","Copper","Zinc","Gallium","Germanium","Arsenic","Selenium","Bromine","Krypton","Rubidium","Strontium","Yttrium","Zirconium","Niobium","Molybdenum","Technetium","Ruthenium","Rhodium","Palladium","Silver","Cadmium","Indium","Tin","Antimony","Tellurium","Iodine","Xenon","Cesium","Barium","Lanthanum","Cerium","Praseodymium","Neodymium","Promethium","Samarium","Europium","Gadolinium","Terbium","Dysprosium","Holmium","Erbium","Thulium","Ytterbium","Lutetium","Hafnium","Tantalum","Tungsten","Rhenium","Osmium","Iridium","Platinum","Gold","Mercury","Thallium","Lead","Bismuth","Polonium","Astatine","Radon","Francium","Radium","Actinium","Thorium","Protactinium","Uranium","Neptunium","Plutonium","Americium","Curium","Berkelium","Californium","Einsteinium","Fermium","Mendelevium","Nobelium","Lawrencium","Rutherfordium","Dubnium","Seaborgium","Bohrium","Hassium","Meitnerium","Darmstadtium","Roentgenium","Copernicium","Nihonium","Flerovium","Moscovium","Livermorium","Tennessine","Oganesson"],Re=["Adamantium","Vibranium","Mithril","Mythril","Orichalcum","Beskar","Nth Metal","Unobtanium","Darksteel","Starsteel","Moonstone","Sunstone","Eternium","Phazon","Trillium","Kyber","Energon","Arcanite","Tiberium","Dilithium","Naquadah","Uru","Dragonite","Aetherium","Etherium","Prometheum","Runite","Oblivionite","Stormsilver","Soulsteel","Voidstone"],Le=["The","Of","On","Over","Under","Above","Below","Beyond","Between","Within","Without","Across","Against","Along","Amid","Among","Around","Before","After","Across","Through","Toward","Inside","Outside","Beneath","Beside","Into","Onto","Upon","Underneath","Throughout","Across","Past","Near","During","Versus","Across","Circa","Since","Until","Amidst","Inside","Outside","Opposite","Regarding","Against","Barring","Alongside","Across","Underway"],Ee=["","Acres","Arch","Barn","Basin","Bend","Brook","Camp","Cape","Cliff","Cove","Creek","Croft","Cross","Dale","Dell","Downs","Farm","Field","Ford","Fork","Gate","Glen","Grove","Hall","Haven","Hill","Hold","Hollow","Knoll","Lane","Landing","Ledge","Loft","Lodge","Loop","Manor","Meadow","Mill","Park","Pasture","Pier","Pike","Pines","Plain","Point","Range","Reach","Rest","Ridge","Ring","Rise","River","Roost","Run","Spring","Stable","Station","Terrace","Trace","Trail","Vale","View","Walk","Ward","Wick","Yard"],Ae=["Alcove","Avenue","Beacon","Break","Bridge","Byway","Causeway","Channel","Climb","Colony","Concourse","Court","Cradle","Cut","Delta","Depot","Dock","Dune","Expanse","Flats","Folds","Front","Garden","Harbor","Harrier","Hillside","Holdings","Jetty","Lagoon","Landing","Lawn","Market","Marsh","Mews","Orchard","Parlour","Pass","Pastures","Pier","Pocket","Portal","Quadrant","Quarter","Quarry","Rise","Rivera","Road","Runway","Spur","Stage","Stretch","Summit","Turn","Verge","Vista","Way","Wharf","Yardarm"],Pe=["Ash","Bear","Birch","Black","Blue","Branch","Brave","Bright","Brook","Cedar","Cinder","Copper","Crow","Crux","Dawn","Drift","Elm","Ember","Falcon","Fallow","Fern","Flint","Frost","Gale","Gold","Granite","Hart","Hawk","Hazel","Hollow","Iron","Ivory","Juniper","Lake","Lark","Laurel","Linden","Mist","Moon","Moss","Night","Oak","Onyx","Prairie","Quill","Raven","River","Sable","Sage","Shadow","Silver","Snow","Star","Stone","Storm","Summit","Thorn","Vale","Wild","Willow","Wolf","Wren","Crimson","Ivory","Lantern","Mariner","Navigator","Oracle","Phoenix","Seeker","Tempest"],we=["","Bane","Bank","Bar","Bay","Bend","Borough","Bourne","Brae","Brook","Crest","Croft","Dale","Den","Fall","Field","Ford","Forge","Gale","Gate","Glen","Guard","Hall","Ham","Harbor","Haven","Helm","Holt","Keep","Land","Ledge","Loch","Mark","Mere","Mont","Moor","Peak","Reach","Rest","Ridge","Ring","Rock","Shaw","Shire","Song","Spark","Stead","Stone","Strand","Thorp","Thorn","Vale","View","Wall","Ward","Water","Well","Wick","Wind","Wing","Wood","Work","Worth","Yard"],Ge=["Ambit","Anchor","Artery","Barrens","Beacon","Berg","Borough","Bulwark","Caravel","Citadel","Cliff","Commons","Courtyard","Cut","Ditch","Fort","Foundry","Gallery","Garrison","Gatehouse","Guard","Harbor","Index","Junction","Keep","Kiln","Lattice","Mill","Nave","Parade","Passage","Pillar","Pinnacle","Port","Rampart","Residence","Row","Run","Sanctuary","Scroll","Shade","Spire","Spring","Stacks","Stage","Tower","Trench","Vault","Ward","Way","Works"],He=u(ye,Se,Ce,be,ve,te),Fe=u(Be,ke),Ie=u(Te,Me,Re),xe=u(Ee,Ae),De=u(Pe,te),Ne=u(we,Ge),k=R({prefixes:He,suffixes:Fe,limit:f}),ae=Math.floor(f*.8),We=fe(ae,Le),Oe=R({prefixes:Ie,suffixes:xe,limit:f-ae}),$e=Object.freeze([...We,...Oe]),T=R({prefixes:De,suffixes:Ne,limit:f}),ne=18,L=6,re="super-honse-state",Ve=[{key:"lfLeg",label:"Left Front Leg"},{key:"rfLeg",label:"Right Front Leg"},{key:"lbLeg",label:"Left Back Leg"},{key:"rbLeg",label:"Right Back Leg"},{key:"heart",label:"Heart"},{key:"lungs",label:"Lungs"}],Ue=["Stoic","Combative","Mercurial","Steady","Alert","Playful"],Ke=["Bay","Chestnut","Dapple Gray","Black","Blue Roan","Palomino","Buckskin","Cremello","Seal Brown","Sooty Bay"],ze=["Dirt","Turf","Synthetic"],Ye=["Fast","Firm","Good","Yielding","Soft","Sloppy","Heavy"],_e=["Leans Inside Rail","Leans Outside Rail","Holds Center Line","Drifts Late Inside","Drifts Late Outside"],je=["Clean Bill of Health","Seasonal Cough","Bleeder Watch","Mild Colic Watch","Hoof Thrush Treatment","Respiratory Quarantine"],Qe=["Combatative","Calculating","Eager","Relaxed","Broody"],Je=4,oe="♞",w=[{name:"Arcana Cross Course",surface:"Dirt",region:"Obsidian Basin Territory",goings:["Fast","Good","Muddy"]},{name:"Veilwater Meadows",surface:"Turf",region:"Luminous Sound Flats",goings:["Firm","Good","Yielding"]},{name:"Mirage Halo Circuit",surface:"Synthetic",region:"Sunstep Plateau Range",goings:["Fast","Good","Slow"]},{name:"Starwright Downs",surface:"Dirt",region:"Astral Prairie Union",goings:["Fast","Sloppy","Heavy"]},{name:"Moonfen Fields",surface:"Turf",region:"Gossamer Marsh Reach",goings:["Firm","Soft","Heavy"]},{name:"Crystal Loom Track",surface:"Synthetic",region:"Auric Valley Annex",goings:["Fast","Good","Slow"]}],Ze=[{name:"Fool's Gambit Stakes",type:"Sprint",distance:"6f",grade:"Grade III",surface:"Dirt"},{name:"High Priestess Dash",type:"Sprint",distance:"7f",grade:"Grade II",surface:"Turf"},{name:"Chariot Mile",type:"Mile",distance:"1m",grade:"Grade I",surface:"Dirt"},{name:"Lovers Link Mile",type:"Mile",distance:"1m",grade:"Grade III",surface:"Synthetic"},{name:"Wheel of Fortune Classic",type:"Medium",distance:"1 1/16m",grade:"Grade II",surface:"Dirt"},{name:"Hermit Lantern Route",type:"Medium",distance:"1 1/8m",grade:"Grade I",surface:"Turf"},{name:"Tower Vigil Marathon",type:"Long",distance:"1 1/2m",grade:"Grade I",surface:"Turf"},{name:"World Arc Handicap",type:"Long",distance:"1 3/8m",grade:"Grade III",surface:"Synthetic"},{name:"Starseer Cup",type:"Medium",distance:"1 3/16m",grade:"Grade II",surface:"Synthetic"},{name:"Moonlit Arcana Stakes",type:"Sprint",distance:"5 1/2f",grade:"Grade III",surface:"Turf"}],qe=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0}),ie=()=>typeof window<"u"&&typeof window.localStorage<"u",se=e=>!!(e&&typeof e=="object"&&typeof e.first=="string"&&typeof e.middle=="string"&&typeof e.last=="string"&&typeof e.label=="string"),Xe=e=>!!(e&&typeof e=="object"&&se(e.identity)&&e.stats&&Array.isArray(e.stats.bodyMap)&&typeof e.stats.temperament=="string"),i=e=>e[Math.floor(Math.random()*e.length)],le=(e="")=>e.replace(/([a-z])([A-Z])/g,"$1 $2").replace(/[_-]+/g," ").trim().split(/\s+/).filter(Boolean),p=e=>le(e)[0]??e,M=e=>{const t=le(e);return t[t.length-1]??e},et=e=>{const t=e.reduce((r,n)=>r+n.weight,0);let a=Math.random()*t;for(const r of e)if(a-=r.weight,a<=0)return r.value;return e[e.length-1].value},de=(e,t)=>Math.floor(Math.random()*(t-e+1))+e,S=(e=55,t=99)=>de(e,t),g=(e,t,a=1)=>Number((Math.random()*(t-e)+e).toFixed(a)),tt=(e=0)=>qe.format(e),at=()=>typeof crypto<"u"&&typeof crypto.randomUUID=="function"?crypto.randomUUID():`horse-${Date.now()}-${Math.floor(Math.random()*1e5)}`,nt=e=>{const t=w.filter(n=>n.surface===e),a=t.length?i(t):i(w),r=i(a.goings);return{...a,going:r}},ce=()=>{const e=i(Ze),t=nt(e.surface);return{race:e,track:t}},ue=e=>(e.stats.height||(e.stats.height=`${g(15,17.2,1)} hh`),typeof e.stats.totalPurse!="number"&&(e.stats.totalPurse=0),e.stats.campaign||(e.stats.campaign=ce()),e.stats.preferredTrack||(e.stats.preferredTrack=e.stats.campaign?.track.surface??i(ze)),e.stats.preferredGoing||(e.stats.preferredGoing=e.stats.campaign?.track.going??i(Ye)),e),rt=()=>Ve.map(e=>({...e,conformation:S(62,98),strength:S(55,100),stamina:S(50,100)})),ot=e=>{const t=new Set;if(t.add(Math.random()<.6?"Combatative":i(Qe)),t.add(i(_e)),e.length){const a=i(e);t.add(`Rivals ${a.identity.label}`)}else t.add("Rivalry Pending");return t.add(i(je)),Array.from(t).slice(0,Je)},it=e=>{const t=ce();return{bodyMap:rt(),temperament:i(Ue),strideLength:`${g(22,28,1)} ft`,width:`${g(25,33,1)} in`,height:`${g(15,17.2,1)} hh`,age:de(2,12),totalPurse:0,coatColor:i(Ke),preferredTrack:t.track.surface,preferredGoing:t.track.going,campaign:t,statuses:ot(e)}},st=(()=>{const e=["Over","of","from","Under","by","upon"],t=$e.map(r=>p(r)).filter(r=>r&&r.length<=7),a=Array.from(new Set([...e,...t]));return a.length?a:e})(),lt=()=>{const e=et([{value:"doubleSpace",weight:.4},{value:"doubleFlush",weight:.4},{value:"triple",weight:.2}]);if(e==="triple"){const l=i(k),m=i(T),d=p(l),A=i(st),P=M(m),ge=`${d} ${A} ${P}`.replace(/\s+/g," ").trim();return{first:d,middle:A,last:P,label:ge}}const t=i(k),a=i(T),r=p(t),n=M(a);if(e==="doubleFlush"){const l=n.replace(/\s+/g,"").toLowerCase(),m=`${r}${l}`;return{first:r,middle:"",last:l,label:m}}const o=`${r} ${n}`.replace(/\s+/g," ").trim();return{first:r,middle:"",last:n,label:o}},dt=(e="")=>{for(let n=0;n<400;n+=1){const o=lt();if(o.label.length<=ne&&o.label!==e)return o}const t=p(k[0]??"Atlas"),a=M(T[0]??"Field"),r=`${t} ${a}`.trim();return{first:t,middle:"",last:a,label:r}},ct=(e,t="")=>ue({id:at(),identity:dt(t),stats:it(e)}),ut=document.querySelector("#app");ut.innerHTML=`
  <main class="frame">
    <header class="masthead">
      <p class="eyebrow">Super Honse Registry</p>
      <h1>Stable Command Deck</h1>
      <p class="lede">Mint a horse, then inspect its stats and statuses.</p>
    </header>
    <section class="name-panel">
      <p id="current-name" class="name-display">Press Mint</p>
      <button id="mint-button" class="mint-button" type="button">Mint Horse</button>
      <span class="char-cap">≤${ne} chars</span>
    </section>
    <section class="horse-vitals" id="horse-vitals">
      <div class="horse-identity">
        <span class="horse-avatar" aria-hidden="true">${oe}</span>
        <div>
          <p class="horse-label" id="horse-label">Awaiting Registration</p>
          <p class="horse-meta" id="horse-meta">No stats yet</p>
        </div>
      </div>
      <dl class="vital-grid">
        <div><dt>Temperament</dt><dd id="vital-temperament">—</dd></div>
        <div><dt>Stride Length</dt><dd id="vital-stride">—</dd></div>
        <div><dt>Horse Width</dt><dd id="vital-width">—</dd></div>
        <div><dt>Height</dt><dd id="vital-height">—</dd></div>
        <div><dt>Age</dt><dd id="vital-age">—</dd></div>
        <div><dt>Coat Color</dt><dd id="vital-coat">—</dd></div>
        <div><dt>Track Type</dt><dd id="vital-track">—</dd></div>
        <div><dt>Track Going</dt><dd id="vital-going">—</dd></div>
        <div><dt>Total Purse</dt><dd id="vital-purse">$0</dd></div>
      </dl>
    </section>
    <section class="race-card">
      <div class="section-head">
        <h2>Race Card</h2>
        <p>US Graded Stakes tiers</p>
      </div>
      <dl class="race-grid">
        <div><dt>Race</dt><dd id="race-name">—</dd></div>
        <div><dt>Grade</dt><dd id="race-grade">—</dd></div>
        <div><dt>Type & Distance</dt><dd id="race-distance">—</dd></div>
        <div><dt>Track</dt><dd id="race-track">—</dd></div>
        <div><dt>Surface</dt><dd id="race-surface">—</dd></div>
        <div><dt>Going</dt><dd id="race-going">—</dd></div>
        <div><dt>Region</dt><dd id="race-region">—</dd></div>
      </dl>
    </section>
    <section class="body-metrics">
      <div class="section-head">
        <h2>Body Map</h2>
        <p>Per-limb conformation, strength, stamina</p>
      </div>
      <table class="body-table">
        <thead>
          <tr>
            <th>Part</th>
            <th>Conformation</th>
            <th>Strength</th>
            <th>Stamina</th>
          </tr>
        </thead>
        <tbody id="body-table"></tbody>
      </table>
      <div class="status-block">
        <h3>Status Flags</h3>
        <ul id="status-list" class="status-list"></ul>
      </div>
    </section>
    <section class="inventory">
      <div class="inventory-head">
        <h2>Stable Inventory</h2>
        <p>Tracking last ${L}</p>
      </div>
      <ul id="inventory-list" class="inventory-grid"></ul>
    </section>
  </main>
`;const G=document.getElementById("current-name"),C=document.getElementById("mint-button"),H=document.getElementById("horse-label"),F=document.getElementById("horse-meta"),I=document.getElementById("vital-temperament"),x=document.getElementById("vital-stride"),D=document.getElementById("vital-width"),N=document.getElementById("vital-height"),W=document.getElementById("vital-age"),O=document.getElementById("vital-coat"),$=document.getElementById("vital-track"),V=document.getElementById("vital-going"),U=document.getElementById("vital-purse"),v=document.getElementById("body-table"),b=document.getElementById("status-list"),B=document.getElementById("inventory-list"),K=document.getElementById("race-name"),z=document.getElementById("race-grade"),Y=document.getElementById("race-distance"),_=document.getElementById("race-track"),j=document.getElementById("race-surface"),Q=document.getElementById("race-going"),J=document.getElementById("race-region"),s=[];let h=null,c=null;const mt=()=>{if(!ie())return;const e={stable:s,lastMint:h};window.localStorage.setItem(re,JSON.stringify(e))},gt=()=>{if(!ie())return!1;const e=window.localStorage.getItem(re);if(!e)return!1;try{const t=JSON.parse(e),a=Array.isArray(t.stable)?t.stable.filter(r=>Xe(r)).slice(0,L).map(r=>ue(r)):[];return a.length?(s.length=0,s.push(...a),h=se(t.lastMint)?t.lastMint:s[0].identity,c=s[0],y(c),E(),!0):!1}catch(t){return console.warn("Failed to hydrate honse state",t),!1}},Z=e=>{if(v.innerHTML="",!e){const t=document.createElement("tr");t.innerHTML='<td colspan="4" class="body-empty">No anatomy logged. Mint a horse.</td>',v.appendChild(t);return}e.stats.bodyMap.forEach(t=>{const a=document.createElement("tr");a.innerHTML=`
      <td>${t.label}</td>
      <td>${t.conformation}%</td>
      <td>${t.strength}%</td>
      <td>${t.stamina}%</td>
    `,v.appendChild(a)})},q=e=>{if(b.innerHTML="",!e){const t=document.createElement("li");t.className="status-empty",t.textContent="Mint a horse to track statuses.",b.appendChild(t);return}e.stats.statuses.forEach(t=>{const a=document.createElement("li");a.textContent=t,b.appendChild(a)})},X=e=>{if(!e||!e.stats.campaign){K.textContent="Unassigned",z.textContent="—",Y.textContent="—",_.textContent="—",j.textContent="—",Q.textContent="—",J.textContent="—";return}const{race:t,track:a}=e.stats.campaign;K.textContent=t.name,z.textContent=t.grade,Y.textContent=`${t.type} • ${t.distance}`,_.textContent=a.name,j.textContent=`${a.surface}`,Q.textContent=a.going,J.textContent=a.region},y=e=>{if(!e){G.textContent="Press Mint",H.textContent="Awaiting Registration",F.textContent="No stats yet",I.textContent="—",x.textContent="—",D.textContent="—",N.textContent="—",W.textContent="—",O.textContent="—",$.textContent="—",V.textContent="—",U.textContent="$0",Z(null),q(null),X(null);return}G.textContent=e.identity.label,H.textContent=e.identity.label,F.textContent=`${e.stats.age} yrs • ${e.stats.coatColor}`,I.textContent=e.stats.temperament,x.textContent=e.stats.strideLength,D.textContent=e.stats.width,N.textContent=e.stats.height??"—",W.textContent=`${e.stats.age}`,O.textContent=e.stats.coatColor,$.textContent=e.stats.preferredTrack,V.textContent=e.stats.preferredGoing,U.textContent=tt(e.stats.totalPurse??0),Z(e),q(e),X(e)},E=()=>{if(B.innerHTML="",!s.length){const e=document.createElement("li");e.className="inventory-empty",e.textContent="Mint a horse to populate the stable.",B.appendChild(e);return}s.forEach(e=>{const t=document.createElement("li");t.className="inventory-card",t.innerHTML=`
      <span class="horse-avatar small" aria-hidden="true">${oe}</span>
      <div class="inventory-copy">
        <p class="inventory-label">${e.identity.label}</p>
        <p class="inventory-meta">${e.stats.age} yrs • ${e.stats.temperament} • ${e.stats.preferredTrack}/${e.stats.preferredGoing}</p>
        <p class="inventory-meta subtle">${e.stats.campaign?`${e.stats.campaign.race.grade} • ${e.stats.campaign.race.name}`:"Race TBD"}</p>
        <div class="inventory-status-chips">
          ${e.stats.statuses.slice(0,3).map(a=>`<span class="chip">${a}</span>`).join("")}
        </div>
      </div>
    `,t.addEventListener("click",()=>{c=e,y(c)}),B.appendChild(t)})},me=()=>{const e=ct(s,h?.label??"");h=e.identity,s.unshift(e),s.length>L&&s.pop(),c=e,y(c),E(),mt()};C.addEventListener("click",()=>{C.disabled=!0,me(),setTimeout(()=>{C.disabled=!1},200)});y(null);E();const pt=gt();pt||me();
